<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admingo</title>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="https://libtl.com/sdk.js" data-zone="10580727" data-sdk="show_10580727"></script>

<style>
body { margin: 0; background: #0b0b0b; font-family: 'Segoe UI', Arial, sans-serif; color: white; -webkit-user-select: none; }
.container { padding: 15px; padding-bottom: 90px; } /* ржЙржЗржержбрзНрж░ ржмрж╛ржЯржирзЗрж░ ржЬржирзНржп ржирж┐ржЪрзЗ ржЧрзНржпрж╛ржк */

/* ржмрзНржпрж╛рж▓рзЗржирзНрж╕ ржХрж╛рж░рзНржб */
.balance { 
    background: linear-gradient(180deg, #0288d1, #01579b); 
    padding: 30px 15px; 
    border-radius: 15px; 
    text-align: center; 
    margin-bottom: 15px; 
    border: 1px solid #039be5;
}
.balance-label { font-size: 18px; opacity: 0.9; margin-bottom: 5px; }
#balance { font-size: 45px; font-weight: bold; }

/* ржмрж╛ржЯржи ржЬрзЗржирж╛рж░рзЗрж▓ рж╕рзНржЯрж╛ржЗрж▓ */
.btn { 
    padding: 16px; 
    border-radius: 12px; 
    text-align: center; 
    font-weight: bold; 
    cursor: pointer; 
    transition: 0.2s; 
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    border: none;
    font-size: 15px;
}
.btn:active { transform: scale(0.96); opacity: 0.8; }

/* ржЧрзНрж░рж┐ржб рж▓рзЗржЖржЙржЯ (ржорж╛ржЭржЦрж╛ржирзЗрж░ ржмрж╛ржЯржиржЧрзБрж▓рзЛрж░ ржЬржирзНржп) */
.grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-bottom: 15px; }
.full { grid-column: 1 / 3; }

/* ржмрж╛ржЯржи ржХрж╛рж▓рж╛рж░ */
.green { background: #2ecc71; color: white; } 
.blue { background: #3498db; color: white; } 
.purple { background: #9b59b6; color: white; }
.orange { background: #e67e22; color: white; } 
.yellow { background: #f1c40f; color: black; } 
.red { background: #e74c3c; color: white; }

/* ржлрж┐ржХрзНрж╕ржб ржЙржЗржержбрзНрж░ ржмрж╛ржЯржи (ржПржХржжржо ржирж┐ржЪрзЗ) */
.withdraw-fixed { 
    position: fixed; 
    bottom: 0; 
    left: 0; 
    right: 0; 
    background: #0b0b0b; 
    padding: 12px 15px;
    border-top: 1px solid #222;
}
.withdraw-btn { 
    background: #3498db; 
    color: white; 
    width: 100%; 
    font-size: 18px; 
    text-transform: uppercase; 
    letter-spacing: 1px;
}
</style>
</head>

<body>
<div class="container">
  <div class="balance">
    <div class="balance-label">Current Balance</div>
    <span id="balance">0</span>
  </div>

  <div class="btn orange full" style="margin-bottom:12px" onclick="invite()">ЁЯФЧ Invite Friends & Earn</div>
  <div class="btn green full" style="margin-bottom:12px" onclick="daily()">ЁЯОБ Daily Bonus (+10)</div>

  <div class="grid">
    <div class="btn blue" onclick="earn(10)">ЁЯТ░ Watch Ad +10</div>
    <div class="btn purple" onclick="earn(15)">ЁЯОп Spin & Earn +15</div>
    <div class="btn yellow" onclick="earn(25)">ЁЯОБ Lucky Box +15</div>
    <div class="btn orange" onclick="earn(12)">ЁЯОм Video Quest +20</div>
    <div class="btn purple" onclick="earn(18)">ЁЯПЖ Challenge +18</div>
    <div class="btn blue" onclick="earn(22)">ЁЯОо Mini Game +12</div>
  </div>

  <div class="btn green full" style="margin-bottom:12px" onclick="window.location.href='/admin-panel'">ЁЯЫа Admin Panel</div>
  <div class="btn yellow full" onclick="rules()">ЁЯУЬ Rules & Regulations</div>
</div>

<div class="withdraw-fixed">
  <div class="btn withdraw-btn" onclick="withdrawPrompt()">ЁЯТ╕ WITHDRAW MONEY</div>
</div>

<script>
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();

// рзз. ржЖржкржирж╛рж░ ржжрзЗржУрзЯрж╛ ржкрзНрж░ржержо ржкржк-ржЖржк
tg.showAlert(
  "ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░ржмрзЗржи?\n\n" +
  "рзз. ржмрж┐ржЬрзНржЮрж╛ржкржиржЯрж┐ ржЕржирзНрждржд рзйрзл рж╕рзЗржХрзЗржирзНржб ржжрзЗржЦрзБржиред\n" +
  "рзи. ржбрзЗржЗрж▓рж┐ ржмрзЛржирж╛рж╕ ржирж┐рждрзЗ ржкрзНрж░рждрж┐ржжрж┐ржи ржЕрзНржпрж╛ржк ржУржкрзЗржи ржХрж░рзБржиред"
);

const user = tg.initDataUnsafe.user || { id: 12345678, first_name: "Guest" };
const API = window.location.origin;

async function loadBalance(){
  try {
    const r = await fetch(`${API}/getBalance?telegramId=${user.id}`);
    const d = await r.json();
    document.getElementById("balance").innerText = d.balance !== undefined ? d.balance : 0;
  } catch(e) { 
    document.getElementById("balance").innerText = "0";
  }
}

async function earn(points) {
  if (typeof show_10580727 === "function") {
    // рзи. ржЖржкржирж╛рж░ ржмрж┐ржЬрзНржЮрж╛ржкржирзЗрж░ ржкржк-ржЖржк
    tg.showAlert("ржмрж┐ржЬрзНржЮрж╛ржкржи рж▓рзЛржб рж╣ржЪрзНржЫрзЗред ржкрзЯрзЗржирзНржЯ ржкрзЗрждрзЗ continue ржмрж╛ржЯржи ржЪрж╛ржкрзБржи ржПржмржВ ржХржоржкржХрзНрж╖рзЗ рзйрзл рж╕рзЗржХрзЗржирзНржб ржЕржкрзЗржХрзНрж╖рж╛ ржХрж░рзБржиред ржмрзЗрж╢рж┐ ржЗржиржХрж╛ржорзЗрж░ ржЬржирзНржп рж╕рзНржХрзНрж░рж▓ ржЕржержмрж╛ ржмрж┐ржЬрзНржЮрж╛ржкржирзЗрж░ ржирж┐рж░рзНржжрзЗрж╢ржирж╛ ржлрж▓рзЛ ржХрж░рзБржи");
    
    show_10580727().then(() => {
      setTimeout(() => addPoints(points), 35000);
    }).catch(() => {
      tg.showAlert("ржмрж┐ржЬрзНржЮрж╛ржкржиржЯрж┐ рж╢рзЗрж╖ ржкрж░рзНржпржирзНржд ржжрзЗржЦрж╛ рж╣рзЯржирж┐ред");
    });
  } else {
    tg.showAlert("ржЕрзНржпрж╛ржб рж▓рзЛржб рж╣ржЪрзНржЫрзЗ, ржХрж┐ржЫрзБржХрзНрж╖ржг ржкрж░ ржЪрзЗрж╖рзНржЯрж╛ ржХрж░рзБржиред");
  }
}

async function addPoints(points) {
  const response = await fetch(`${API}/addCoins`, {
    method: "POST",
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({telegramId: user.id, amount: points})
  });
  const data = await response.json();
  if(data.success) {
    loadBalance();
    tg.showAlert(`ржЕржнрж┐ржиржирзНржжржи! +${points} ржХрзЯрзЗржи рж╕ржлрж▓ржнрж╛ржмрзЗ ржпрзЛржЧ рж╣рзЯрзЗржЫрзЗред`);
  }
}

async function daily(){
  const r = await fetch(`${API}/dailyBonus`, {
    method: "POST",
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({telegramId: user.id})
  });
  const d = await r.json();
  tg.showAlert(d.success ? "ржЕржнрж┐ржиржирзНржжржи! ржЖржкржирж┐ рззрзж ржХрзЯрзЗржи ржбрзЗржЗрж▓рж┐ ржмрзЛржирж╛рж╕ ржкрзЗрзЯрзЗржЫрзЗржиред" : (d.message || "ржЖржЬржХрзЗрж░ ржмрзЛржирж╛рж╕ ржирзЗржУрзЯрж╛ рж╣рзЯрзЗ ржЧрзЗржЫрзЗред"));
  loadBalance();
}

function invite(){
  tg.openTelegramLink(`https://t.me/share/url?url=https://t.me/Tetris1earnbot?start=ref_${user.id}&text=Join and Earn!`);
}

function withdrawPrompt(){
  const amount = prompt("ржХржд ржХрзЯрзЗржи ржЙржЗржержбрзНрж░ ржХрж░ржмрзЗржи? (ржорж┐ржирж┐ржорж╛ржо рзлрзжрзжрзж)");
  if(!amount || isNaN(amount) || Number(amount) < 5000) {
    tg.showAlert("ржжрзБржГржЦрж┐ржд! рж╕рж░рзНржмржирж┐ржорзНржи рзлрзжрзжрзж ржХрзЯрзЗржи ржирж╛ рж╣рж▓рзЗ ржЙржЗржержбрзНрж░ ржХрж░рж╛ ржпрж╛ржмрзЗ ржирж╛ред");
    return;
  }
  const method = prompt("ржкрзЗржорзЗржирзНржЯ ржорзЗржержб (Bkash/Nagad):");
  const number = prompt("ржорзЛржмрж╛ржЗрж▓ ржиржорзНржмрж░ ржжрж┐ржи:");
  if(!method || !number) return;

  fetch(`${API}/withdraw`, {
    method: "POST",
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({telegramId: user.id, amount: Number(amount), method, number})
  }).then(r => r.json()).then(d => {
    tg.showAlert(d.success ? "ржЙржЗржержбрзНрж░ рж░рж┐ржХрзЛрзЯрзЗрж╕рзНржЯ рж╕ржлрж▓ рж╣рзЯрзЗржЫрзЗ!" : (d.message || "ржмрзНржпрж╛рж▓рзЗржирзНрж╕ ржкрж░рзНржпрж╛ржкрзНржд ржирзЯ!"));
    loadBalance();
  });
}

function rules() {
  // рзй. ржЖржкржирж╛рж░ ржжрзЗржУрзЯрж╛ рж╕рзЗржЗ рзнржЯрж┐ рж░рзБрж▓рж╕
  tg.showAlert(
    "ЁЯУЬ ржХрж╛ржЬрзЗрж░ рж╕ржарж┐ржХ ржирж┐рзЯржорж╛ржмрж▓рзА\n\n" +
    "рзз. ржкрзНрж░рждрж┐ржЯрж┐ ржмрж┐ржЬрзНржЮрж╛ржкржи ржЕржирзНрждржд рзйрзл-рзкрзж рж╕рзЗржХрзЗржирзНржб ржжрзЗржЦрзБржиред\n" +
    "рзи. VPN рж╣рж▓рзЗ USA/UK ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзБржиред\n" +
    "рзй. ржжрзИржирж┐ржХ рзирзж-рзирзлржЯрж┐рж░ ржмрзЗрж╢рж┐ ржмрж┐ржЬрзНржЮрж╛ржкржи ржирзЯред\n" +
    "рзк. ржнрзБрж▓ ржиржорзНржмрж░ ржжрж┐рж▓рзЗ ржкрзЗржорзЗржирзНржЯ ржмрж╛рждрж┐рж▓ред\n" +
    "рзл. Continue ржмрж╛ржЯржи ржерж╛ржХрж▓рзЗ ржЕржмрж╢рзНржпржЗ ржЪрж╛ржкрзБржиред\n" +
    "рзм. ржорж┐ржирж┐ржорж╛ржо рзлрзжрзжрзж ржХрзЯрзЗржи рж╣рж▓рзЗ ржЙржЗржержбрзНрж░ред\n" +
    "рзн. ржлрзЗржХ/ржЪрж┐ржЯрж┐ржВ ржХрзЯрзЗржи ржПржкрзНрж░рзБржн рж╣ржмрзЗ ржирж╛ред"
  );
}

loadBalance();
</script>
</body>
</html>
