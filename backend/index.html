<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AdminGo Mini App HD</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script src="//libtl.com/sdk.js" data-zone="10580727" data-sdk="show_10580727"></script>

<style>
  body {
    background-color: #000;
    font-family: 'Segoe UI', Arial, sans-serif;
    margin: 0; padding: 15px; color: white;
    display: flex; flex-direction: column; align-items: center;
  }

  /* Blue Balance Card (Like Image) */
  .balance-container {
    background: #0077B6; width: 100%; border-radius: 20px;
    padding: 30px 0; text-align: center; margin-bottom: 20px;
  }
  .balance-amount { font-size: 55px; font-weight: bold; }

  /* Referral Card */
  .referral-card {
    background: #121212; border: 1px dashed #444;
    border-radius: 15px; width: 100%; padding: 15px;
    text-align: center; margin-bottom: 20px; box-sizing: border-box;
  }
  .invite-btn {
    background: #F39C12; border: none; padding: 12px;
    border-radius: 30px; color: white; font-weight: bold; width: 85%; cursor: pointer;
  }

  /* Daily Bonus (Full Width) */
  .daily-btn {
    width: 100%; padding: 16px; border-radius: 15px; border: none;
    color: white; font-weight: bold; margin-bottom: 12px; cursor: pointer;
    background-color: #2ECC71;
  }

  /* Task Grid (Side by Side like Image) */
  .grid-container {
    display: grid; grid-template-columns: 1fr 1fr;
    gap: 12px; width: 100%; margin-bottom: 12px;
  }
  .grid-btn {
    padding: 15px; border-radius: 12px; border: none;
    color: white; font-weight: bold; cursor: pointer;
    display: flex; flex-direction: column; align-items: center; font-size: 14px;
    gap: 5px;
  }

  /* Bottom Options */
  .action-btn {
    width: 100%; padding: 15px; border-radius: 12px; border: none;
    color: white; font-weight: bold; margin-bottom: 10px; cursor: pointer;
  }

  /* Withdraw Button (Exact Style from Image) */
  .withdraw-btn {
    background-color: #5DADE2; width: 100%; padding: 18px;
    border-radius: 15px; border: none; color: white;
    font-weight: bold; font-size: 18px; margin-top: 10px;
    text-transform: uppercase; cursor: pointer;
    box-shadow: 0 4px 15px rgba(93, 173, 226, 0.3);
  }

  /* Specific Colors */
  .bg-blue { background-color: #3498DB; }
  .bg-purple { background-color: #9B59B6; }
  .bg-yellow { background-color: #F1C40F; color: black; }
  .bg-orange { background-color: #E67E22; }
  .bg-red { background-color: #E74C3C; }
  .bg-teal { background-color: #16A085; }
</style>
</head>
<body>

  <div class="balance-container">
    <div style="font-size: 18px; opacity: 0.9;">Current Balance</div>
    <div id="balance" class="balance-amount">0</div>
  </div>

  <div class="referral-card">
    <div style="color: #FFD700; margin-bottom: 10px;">ğŸ à¦ªà§à¦°à¦¤à¦¿ à¦°à§‡à¦«à¦¾à¦°à§‡ à¦ªà¦¾à¦¨ à§§à§¦à§¦ à¦ªà§Ÿà§‡à¦¨à§à¦Ÿ!</div>
    <button class="invite-btn" onclick="inviteFriend()">ğŸ”— Invite Friends & Earn</button>
  </div>

  <button class="daily-btn" onclick="handleAd('Daily', 20)">ğŸ Daily Bonus (+20)</button>

  <div class="grid-container">
    <button class="grid-btn bg-blue" onclick="handleAd('Watch Ad', 10)">ğŸ’° Watch Ad <span>+10</span></button>
    <button class="grid-btn bg-purple" onclick="handleAd('Spin', 15)">ğŸ¯ Spin & Earn <span>+15</span></button>
    
    <button class="grid-btn bg-yellow" onclick="handleAd('Lucky', 25)">ğŸ Lucky Box <span>+25</span></button>
    <button class="grid-btn bg-orange" onclick="handleAd('Video', 12)">ğŸ¬ Video Quest <span>+12</span></button>
    
    <button class="grid-btn bg-purple" onclick="handleAd('Challenge', 18)">ğŸ† Challenge <span>+18</span></button>
    <button class="grid-btn bg-blue" onclick="handleAd('Game', 22)">ğŸ•¹ï¸ Mini Game <span>+22</span></button>
  </div>

  <button class="action-btn bg-red" onclick="showRules()">ğŸ“œ Rules & Regulations</button>
  <button class="action-btn bg-teal" onclick="tg.openLink('https://t.me/yourchannel')">ğŸ“¢ Official Channel</button>
  
  <div id="adminArea" style="width: 100%;"></div>

  <button class="withdraw-btn" onclick="requestWithdraw()">ğŸ’° WITHDRAW MONEY</button>

<script>
const tg = window.Telegram.WebApp;
tg.ready();
tg.expand();

const user = tg.initDataUnsafe?.user || { id: 0 };
let balance = 0;

// All 7 Original Rules
const originalRules = `
1. Withdraw à¦¨à¦¿à§Ÿà¦®: à§«à§¦à§¦à§¦ coins à¦•à¦°à§‡à¥¤
2. Ad/Reward: Watch Ad, Spin, Box à¦¥à§‡à¦•à§‡ à¦ªà§Ÿà§‡à¦¨à§à¦Ÿà¥¤
3. Invite: à¦¨à¦¤à§à¦¨ à¦¬à¦¨à§à¦§à§ à¦°à§‡à¦«à¦¾à¦° à¦•à¦°à¦²à§‡ +50 Coinsà¥¤
4. Mini Games: à¦•à§‹à¦¨à§‹ à¦¹à§à¦¯à¦¾à¦•à¦¿à¦‚ à¦¬à¦¾ à¦šà¦¿à¦Ÿ à¦¨à¦¿à¦·à¦¿à¦¦à§à¦§à¥¤
5. à¦¬à§à¦¯à¦¾à¦²à§‡à¦¨à§à¦¸: à¦…à§à¦¯à¦¾à¦ªà§‡à¦° à¦­à§‡à¦¤à¦° à¦¬à§à¦¯à¦¬à¦¹à¦¾à¦° à¦¬à¦¾ à¦‰à¦‡à¦¥à¦¡à§à¦° à¦•à¦°à¦¾ à¦¯à¦¾à¦¬à§‡à¥¤
6. Behavior: à¦¸à§à¦ªà§à¦¯à¦¾à¦® à¦•à¦°à¦²à§‡ à¦…à§à¦¯à¦¾à¦•à¦¾à¦‰à¦¨à§à¦Ÿ à¦¬à§à¦²à¦• à¦¹à¦¬à§‡à¥¤
7. Contact: à¦ªà§à¦°à§Ÿà§‹à¦œà¦¨à§‡ à¦…à§à¦¯à¦¾à¦¡à¦®à¦¿à¦¨à§‡à¦° à¦¸à¦¾à¦¥à§‡ à¦•à¦¥à¦¾ à¦¬à¦²à§à¦¨à¥¤
`;

function showRules() {
  tg.showPopup({
    title: 'à¦¨à¦¿à¦¯à¦¼à¦®à¦¾à¦¬à¦²à§€',
    message: originalRules,
    buttons: [{type: 'ok', text: 'à¦¬à§à¦à§‡à¦›à¦¿'}]
  });
}

async function loadBalance() {
  try {
    const res = await fetch(`https://admingo.onrender.com/getBalance?telegramId=${user.id}`);
    const data = await res.json();
    balance = data.balance || 0;
    document.getElementById("balance").innerText = balance;
  } catch (e) { document.getElementById("balance").innerText = "0"; }
}

async function addCoins(points) {
  try {
    await fetch('https://admingo.onrender.com/addCoins', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ telegramId: user.id, amount: points })
    });
    balance += points;
    document.getElementById("balance").innerText = balance;
    tg.HapticFeedback.notificationOccurred('success');
  } catch (e) { console.log("Update error"); }
}

function handleAd(name, points) {
  if (typeof show_10580727 === "function") {
    show_10580727();
    setTimeout(() => addCoins(points), 2000);
  } else { addCoins(points); }
}

function inviteFriend() {
  const link = `https://t.me/Tetris1earnbot?start=${user.id}`;
  tg.openTelegramLink(`https://t.me/share/url?url=${encodeURIComponent(link)}&text=Join and Earn!`);
}

function requestWithdraw() {
  if(balance < 5000) tg.showAlert("à¦‰à¦‡à¦¥à¦¡à§à¦°à¦° à¦œà¦¨à§à¦¯ à§«à§¦à§¦à§¦ à¦ªà§Ÿà§‡à¦¨à§à¦Ÿ à¦ªà§à¦°à§Ÿà§‹à¦œà¦¨!");
  else tg.showAlert("à¦‰à¦‡à¦¥à¦¡à§à¦° à¦°à¦¿à¦•à§‹à¦¯à¦¼à§‡à¦¸à§à¦Ÿ à¦¸à¦«à¦² à¦¹à§Ÿà§‡à¦›à§‡à¥¤");
}

// Admin Check
if(user.id === 6311806060) {
  document.getElementById("adminArea").innerHTML = `<button class="action-btn bg-orange">ğŸ› ï¸ Admin Dashboard</button>`;
}

loadBalance();
</script>
</body>
</html>
